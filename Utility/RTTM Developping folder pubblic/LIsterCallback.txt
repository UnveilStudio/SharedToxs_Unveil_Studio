#Shared Use License: This file is owned by Derivative Inc. (â€œDerivativeï¿½) 
#and can only be used, and/or modified for use, in conjunction with 
#Derivativeâ€™s TouchDesigner software, and only if you are a licensee who 
#has accepted Derivativeâ€™s TouchDesigner license or assignment agreement 
#(which also governs the use of this file).  You may share a modified version 
#of this file with another authorized licensee of Derivativeâ€™s TouchDesigner 
#software.  Otherwise, no redistribution or sharing of this file, with or 
#without modification, is permitted.

"""
All callbacks for this lister go in this DAT. For a list of available callbacks,
see:

https://docs.derivative.ca/Palette:lister#Custom_Callbacks
"""
#REORDER Keep track to the layer value store ParInfo and tha apply the value in the correct order. 
def onMouseDrag(info):
	
	
	 
	#SWAP
	op('../fifo1').clear()
	op('../fifo1').write(info['startRow'])
	op('../fifo1').write(info['endRow'])
	

	#REORDER
	
	

	op('../source').lock = True
	
	op('../store_layer_preset').run()
	op('../store_actual_status').run()

#SLIDER really sad approce 10 fps

#def onPressCell(c):
#	
#	print(c)
#	#Definition
#	row = c['row']
#	col = c['col']
#	knob = 'knob'
#	who = knob + str(row-1)
#	
#	
#	#Slider
#	
#	if col == 3:
#		
#		op(who).par.centerx.val = op('pos')[0]
#		op('name').par.name0.val = str(op(who).name)
#		op('when').par.value0 = 1
		
	
	
	
def onClick(c):	
	
#COOK 
	col = c.get('col')
	
	path = c['rowData']['rowObject']['path']
	
	if col == 2:
		if op(str(path)).allowCooking == 1:
			op(str(path)).allowCooking = 0

		else:
			op(str(path)).allowCooking = 1


#Destroy
	row = c['row']
	who = op('../source')[row,0]
	if col == 3:
		op(who).destroy()
		



	
#SHOW PARAMETER

def onSelectRow(c):
	
	path = c['rowData']['rowObject']['path']
	layer = 'layer'+str(c['row'])
	#op('../toxCustomPars').par.op = path
	op('../layerPars').par.op = layer

	



